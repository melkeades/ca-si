{
  "version": 3,
  "sources": ["../../@splidejs/splide-extension-intersection/dist/js/splide-extension-intersection.esm.js"],
  "sourcesContent": ["/*!\n * @splidejs/splide-extension-intersection\n * Version  : 0.2.0\n * License  : MIT\n * Copyright: 2022 Naotoshi Fujita\n */\nfunction empty(array) {\n  array.length = 0;\n}\n\nfunction slice$1(arrayLike, start, end) {\n  return Array.prototype.slice.call(arrayLike, start, end);\n}\n\nfunction apply$1(func) {\n  return func.bind.apply(func, [null].concat(slice$1(arguments, 1)));\n}\n\nfunction typeOf$1(type, subject) {\n  return typeof subject === type;\n}\n\nvar isArray = Array.isArray;\napply$1(typeOf$1, \"function\");\napply$1(typeOf$1, \"string\");\napply$1(typeOf$1, \"undefined\");\n\nfunction toArray(value) {\n  return isArray(value) ? value : [value];\n}\n\nfunction forEach(values, iteratee) {\n  toArray(values).forEach(iteratee);\n}\n\nvar ownKeys$1 = Object.keys;\n\nfunction forOwn$1(object, iteratee, right) {\n  if (object) {\n    var keys = ownKeys$1(object);\n    keys = right ? keys.reverse() : keys;\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== \"__proto__\") {\n        if (iteratee(object[key], key) === false) {\n          break;\n        }\n      }\n    }\n  }\n\n  return object;\n}\n\nfunction assign(object) {\n  slice$1(arguments, 1).forEach(function (source) {\n    forOwn$1(source, function (value, key) {\n      object[key] = source[key];\n    });\n  });\n  return object;\n}\n\nfunction EventBinder() {\n  var listeners = [];\n\n  function bind(targets, events, callback, options) {\n    forEachEvent(targets, events, function (target, event, namespace) {\n      var isEventTarget = (\"addEventListener\" in target);\n      var remover = isEventTarget ? target.removeEventListener.bind(target, event, callback, options) : target[\"removeListener\"].bind(target, callback);\n      isEventTarget ? target.addEventListener(event, callback, options) : target[\"addListener\"](callback);\n      listeners.push([target, event, namespace, callback, remover]);\n    });\n  }\n\n  function unbind(targets, events, callback) {\n    forEachEvent(targets, events, function (target, event, namespace) {\n      listeners = listeners.filter(function (listener) {\n        if (listener[0] === target && listener[1] === event && listener[2] === namespace && (!callback || listener[3] === callback)) {\n          listener[4]();\n          return false;\n        }\n\n        return true;\n      });\n    });\n  }\n\n  function dispatch(target, type, detail) {\n    var e;\n    var bubbles = true;\n\n    if (typeof CustomEvent === \"function\") {\n      e = new CustomEvent(type, {\n        bubbles: bubbles,\n        detail: detail\n      });\n    } else {\n      e = document.createEvent(\"CustomEvent\");\n      e.initCustomEvent(type, bubbles, false, detail);\n    }\n\n    target.dispatchEvent(e);\n    return e;\n  }\n\n  function forEachEvent(targets, events, iteratee) {\n    forEach(targets, function (target) {\n      target && forEach(events, function (events2) {\n        events2.split(\" \").forEach(function (eventNS) {\n          var fragment = eventNS.split(\".\");\n          iteratee(target, fragment[0], fragment[1]);\n        });\n      });\n    });\n  }\n\n  function destroy() {\n    listeners.forEach(function (data) {\n      data[4]();\n    });\n    empty(listeners);\n  }\n\n  return {\n    bind: bind,\n    unbind: unbind,\n    dispatch: dispatch,\n    destroy: destroy\n  };\n}\nvar EVENT_DESTROY = \"destroy\";\n\nfunction EventInterface(Splide2) {\n  var bus = Splide2 ? Splide2.event.bus : document.createDocumentFragment();\n  var binder = EventBinder();\n\n  function on(events, callback) {\n    binder.bind(bus, toArray(events).join(\" \"), function (e) {\n      callback.apply(callback, isArray(e.detail) ? e.detail : []);\n    });\n  }\n\n  function emit(event) {\n    binder.dispatch(bus, event, slice$1(arguments, 1));\n  }\n\n  if (Splide2) {\n    Splide2.event.on(EVENT_DESTROY, binder.destroy);\n  }\n\n  return assign(binder, {\n    bus: bus,\n    on: on,\n    off: apply$1(binder.unbind, bus),\n    emit: emit\n  });\n}\n\nfunction slice(arrayLike, start, end) {\n  return Array.prototype.slice.call(arrayLike, start, end);\n}\n\nfunction apply(func) {\n  return func.bind(null, ...slice(arguments, 1));\n}\n\nfunction typeOf(type, subject) {\n  return typeof subject === type;\n}\napply(typeOf, \"function\");\napply(typeOf, \"string\");\nconst isUndefined = apply(typeOf, \"undefined\");\n\nconst ownKeys = Object.keys;\n\nfunction forOwn(object, iteratee, right) {\n  if (object) {\n    let keys = ownKeys(object);\n    keys = right ? keys.reverse() : keys;\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      if (key !== \"__proto__\") {\n        if (iteratee(object[key], key) === false) {\n          break;\n        }\n      }\n    }\n  }\n  return object;\n}\n\nconst EVENT_INTERSECTION = \"intersection\";\nconst EVENT_INTERSECTION_IN = \"intersection:in\";\nconst EVENT_INTERSECTION_OUT = \"intersection:out\";\n\nfunction Handlers(Splide2) {\n  const { Components } = Splide2;\n  return {\n    keyboard: {\n      enable() {\n        Components.Keyboard.disable(false);\n      },\n      disable() {\n        Components.Keyboard.disable(true);\n      }\n    },\n    autoplay: {\n      enable() {\n        if (Splide2.options.autoplay) {\n          Components.Autoplay.play();\n        }\n      },\n      disable() {\n        Components.Autoplay.pause();\n      }\n    },\n    autoScroll: {\n      enable() {\n        const AutoScroll = Components.AutoScroll;\n        AutoScroll && AutoScroll.play();\n      },\n      disable() {\n        const AutoScroll = Components.AutoScroll;\n        AutoScroll && AutoScroll.pause();\n      }\n    },\n    video: {\n      enable() {\n        const Video = Components.Video;\n        Video && Video.play();\n      },\n      disable() {\n        const Video = Components.Video;\n        Video && Video.pause();\n      }\n    }\n  };\n}\n\nfunction Intersection(Splide2, Components2, options) {\n  const { emit } = EventInterface(Splide2);\n  const intersectionOptions = options.intersection || {};\n  const handlers = Handlers(Splide2);\n  let observer;\n  function mount() {\n    if (window.IntersectionObserver) {\n      observer = new IntersectionObserver(onIntersect, {\n        root: intersectionOptions.root,\n        rootMargin: intersectionOptions.rootMargin,\n        threshold: intersectionOptions.threshold\n      });\n      observer.observe(Splide2.root);\n    }\n  }\n  function destroy() {\n    if (observer) {\n      observer.disconnect();\n      observer = null;\n    }\n  }\n  function onIntersect([entry]) {\n    if (entry) {\n      entry.isIntersecting ? inView(entry) : outView(entry);\n      emit(EVENT_INTERSECTION, entry);\n    }\n  }\n  function handle(options2) {\n    forOwn(options2, (value, key) => {\n      if (!isUndefined(value)) {\n        const handler = handlers[key];\n        value ? handler.enable() : handler.disable();\n      }\n    });\n  }\n  function inView(entry) {\n    handle(intersectionOptions.inView || {});\n    emit(EVENT_INTERSECTION_IN, entry);\n    if (intersectionOptions.once) {\n      destroy();\n    }\n  }\n  function outView(entry) {\n    handle(intersectionOptions.outView || {});\n    emit(EVENT_INTERSECTION_OUT, entry);\n  }\n  return {\n    mount,\n    destroy\n  };\n}\n\nexport { Intersection };\n"],
  "mappings": "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",
  "names": []
}
